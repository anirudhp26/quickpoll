@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply transition-colors duration-200;
  }
  
  html,
  body {
    background-color: white;
  }
  
  html.dark,
  html.dark body {
    background-color: #111827;
  }
}

/* Graph-like background pattern */
.graph-bg::before {
  content: '';
  position: fixed;
  inset: 0;
  background-color: white;
  background-image: 
    linear-gradient(to right, rgba(0,0,0,0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,0,0,0.05) 1px, transparent 1px);
  background-size: 40px 40px;
  pointer-events: none;
  z-index: 0;
  transition: background-color 0.3s ease, background-image 0.3s ease;
}

html.dark .graph-bg::before {
  background-color: #111827;
  background-image: 
    linear-gradient(to right, rgba(255,255,255,0.15) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.15) 1px, transparent 1px);
}

/* Chart lines overlay */
.graph-lines {
  position: fixed;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 39px,
      rgba(0,0,0,0.06) 40px,
      rgba(0,0,0,0.06) 40px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 39px,
      rgba(0,0,0,0.06) 40px,
      rgba(0,0,0,0.06) 40px
    );
  pointer-events: none;
  z-index: 0;
  transition: background-image 0.3s ease;
}

html.dark .graph-lines {
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 39px,
      rgba(255,255,255,0.15) 40px,
      rgba(255,255,255,0.15) 40px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 39px,
      rgba(255,255,255,0.15) 40px,
      rgba(255,255,255,0.15) 40px
    );
}

@keyframes gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

@keyframes slide {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-gradient {
  background-size: 400% 400%;
  animation: gradient-shift 15s ease infinite;
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-slide {
  animation: slide 20s linear infinite;
}

/* Glassmorphism for light mode */
.glass {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 2px solid rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

/* Glassmorphism for dark mode */
html.dark .glass {
  background: rgba(17, 24, 39, 0.95);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.2);
}

/* Ensure text in glass elements has proper contrast */
.glass {
  color: inherit;
}

html.dark .glass {
  color: inherit;
}

.glass * {
  color: inherit;
}

html.dark .glass * {
  color: inherit;
}

/* Color scheme */
html.dark {
  color-scheme: dark;
}

html {
  color-scheme: light;
}

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;

  --card-bg: 255, 255, 255;
  --card-border: 200, 200, 200;
  --text-color: 17, 24, 39;
  --text-color-light: 107, 114, 128;
  --primary-color: 59, 130, 246;
  --primary-color-hover: 37, 99, 235;
}

.dark {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 17, 24, 39;
  --background-end-rgb: 17, 24, 39;
  
  --card-bg: 31, 41, 55;
  --card-border: 75, 85, 99;
  --text-color: 243, 244, 246;
  --text-color-light: 156, 163, 175;
  --primary-color: 96, 165, 250;
  --primary-color-hover: 147, 197, 253;
}

/* Line clamp utility */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Smooth scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.5);
}

html.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
}

html.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}

/* Modal backdrop utility */
.modal-backdrop {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

html.dark .modal-backdrop {
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
